<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <title>Referral Bro</title>
    <link rel="stylesheet" href="popup.css">
  </head>

  <body>

    <!-- Header -->
    <div class="header">
      <div class="logo-area">
        <span class="logo-icon">ğŸ¤</span>
        <h2>Referral Bro</h2>
      </div>
      <div class="switch-wrapper">
        <label class="switch" title="Toggle Overlay Mode">
          <input type="checkbox" id="overlay-toggle" aria-label="Toggle referral overlay on job boards">
          <span class="slider"></span>
        </label>
      </div>
    </div>

    <div class="container">

      <!-- Data Management Card -->
      <div class="card">
        <div class="card-header">
          <span class="label">Database</span>
          <span id="last-updated" class="last-updated"></span>
        </div>

        <div class="button-row">
          <label for="csv-upload" class="file-upload-btn compact">
            ğŸ“‚ Import
          </label>
          <input type="file" id="csv-upload" accept=".csv,.json">

          <button id="export-btn" class="export-btn" title="Export as CSV">
            ğŸ“¤ Export
          </button>
        </div>

        <div id="status"></div>
        <p class="reload-hint">ğŸ’¡ Reload job pages to see new badges</p>

        <!-- Format Info -->
        <details class="format-info">
          <summary>ğŸ“‹ Supported Formats</summary>
          <div class="format-content">
            <p><strong>CSV:</strong></p>
            <code>Name, "Company1, Company2", Notes</code>

            <p><strong>JSON:</strong></p>
            <code>[{"name": "Alice", "companies": ["Google"]}]</code>

            <p class="format-note">ğŸ’¡ Notes field is optional</p>
          </div>
        </details>
        <!-- AI Conversion Prompt -->
        <details class="format-info no-margin">
          <summary>ğŸ¤– Don't have CSV/JSON? Use AI to convert</summary>
          <div class="format-content">
            <div class="prompt-box" id="ai-prompt">Convert my contact list to CSV: Name, Companies, Notes. Multiple
              companies = comma-separated in quotes. Notes optional. Output CSV only.

              My data:
              [PASTE HERE]</div>
            <button class="copy-btn" id="copy-prompt-btn">ğŸ“‹ Copy Prompt</button>
          </div>
        </details>
      </div>

      <!-- Quick Add Card -->
      <div class="card">
        <div class="card-header">
          <span class="label">Quick Add</span>
        </div>

        <div class="quick-add-form">
          <div class="input-row">
            <input type="text" id="add-name" class="input-field" placeholder="Name" aria-label="Contact name">
            <input type="text" id="add-notes" class="input-field input-small" placeholder="Notes (optional)"
              aria-label="Notes">
          </div>
          <input type="text" id="add-companies" class="input-field" placeholder="Companies (comma separated)"
            aria-label="Companies">
          <button id="add-contact-btn" class="add-btn">â• Add</button>
        </div>
      </div>

      <!-- Search Card -->
      <div class="card">
        <div class="card-header">
          <span class="label">Manual Check</span>
        </div>
        <div class="search-box">
          <span class="search-icon">ğŸ”</span>
          <input type="text" id="search-input" class="search-input" placeholder="Search company (e.g., Google)"
            aria-label="Search for companies in your network">
        </div>
        <div id="search-results"></div>
      </div>

    </div>

    <script src="shared.js"></script>
    <script src="utils.js"></script>
    <script src="popup.js"></script>
  </body>

</html>
<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <title>Referral Bro</title>
    <link rel="stylesheet" href="popup.css">
    <!-- SheetJS for Excel file parsing -->
    <script src="https://cdn.sheetjs.com/xlsx-0.20.1/package/dist/xlsx.mini.min.js"></script>
  </head>

  <body>

    <!-- Header -->
    <div class="header">
      <div class="logo-area">
        <span class="logo-icon">ğŸ¤</span>
        <h2>Referral Bro</h2>
      </div>
      <div class="switch-wrapper">
        <label class="switch" title="Toggle Overlay Mode">
          <input type="checkbox" id="overlay-toggle" aria-label="Toggle referral overlay on job boards">
          <span class="slider"></span>
        </label>
      </div>
    </div>

    <div class="container">

      <!-- Data Management Card -->
      <div class="card">
        <div class="card-header">
          <span class="label">Database</span>
          <span id="last-updated" class="last-updated"></span>
        </div>

        <div class="button-row">
          <label for="csv-upload" class="file-upload-btn compact">
            ğŸ“‚ Import
          </label>
          <input type="file" id="csv-upload" accept=".csv,.json,.xls,.xlsx">

          <button id="export-btn" class="export-btn" title="Export as CSV">
            ğŸ“¤ Export
          </button>
        </div>

        <div id="status"></div>

        <!-- Format Info -->
        <details class="format-info">
          <summary>ğŸ“‹ Supported Formats</summary>
          <div class="format-content">
            <p><strong>CSV:</strong></p>
            <code>Name, "Company1, Company2", Notes</code>

            <p><strong>JSON:</strong></p>
            <code>[{"name": "Alice", "companies": ["Google"], "notes": "..."}]</code>

            <p><strong>XLS/XLSX:</strong></p>
            <code>Columns: Name | Companies | Notes</code>

            <p class="format-link">ğŸ“– <a href="https://github.com/user/referral-bro#data-format" target="_blank">Full
                Guide & AI Prompts</a></p>
          </div>
        </details>
      </div>

      <!-- Quick Add Card -->
      <div class="card">
        <div class="card-header">
          <span class="label">Quick Add</span>
        </div>

        <div class="quick-add-form">
          <input type="text" id="add-name" class="input-field" placeholder="Name (e.g., Alice Chen)"
            aria-label="Contact name">
          <input type="text" id="add-companies" class="input-field" placeholder="Companies (comma separated)"
            aria-label="Companies">
          <input type="text" id="add-notes" class="input-field" placeholder="Notes (optional)" aria-label="Notes">
          <button id="add-contact-btn" class="add-btn">â• Add Contact</button>
        </div>
      </div>

      <!-- Search Card -->
      <div class="card">
        <div class="card-header">
          <span class="label">Manual Check</span>
        </div>
        <div class="search-box">
          <span class="search-icon">ğŸ”</span>
          <input type="text" id="search-input" class="search-input" placeholder="Search company (e.g., Google)"
            aria-label="Search for companies in your network">
        </div>
        <div id="search-results"></div>
      </div>

    </div>

    <script src="popup.js"></script>
  </body>

</html>